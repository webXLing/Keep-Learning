<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>

</body>
<script>
  // 第 67 题：随机生成一个长度为 10 的整数类型的数组，例如 [2, 10, 3, 4, 5, 11, 10, 11, 20]，将其排列成一个新数组，要求新数组形式如下，例如 [[2, 3, 4, 5], [10, 11], [20]]。 #113

  // Math.random()*10

  // var hasGroupsSizeX = function (deck) {
  //   if (deck.length <= 1) {
  //     return false;
  //   }

  //   // 求最大公约数
  //   function getMaxDivisor(a, b) {
  //     if (a === 0) {
  //       return b;
  //     }
  //     return getMaxDivisor(b % a, a);
  //   }

  //   var map = {};
  //   var arr = [];
  //   var a, b, maxDivisor;

  //   // 获取每个值出现的次数
  //   deck.forEach(item => {
  //     map[item] = (map[item] === undefined ? 1 : ++map[item]);
  //   })

  //   // 将出现的次数存入数组中
  //   Object.keys(map).forEach(key => {
  //     arr.push(map[key])
  //   })

  //   // 提取公共的公约数
  //   while (arr.length > 1) {
  //     a = arr.shift();
  //     b = arr.shift();
  //     maxDivisor = getMaxDivisor(a, b);
  //     if (maxDivisor < 2) {
  //       return false;
  //     } else {
  //       arr.unshift(maxDivisor);
  //     }
  //   }

  //   return true;
  // }

  // var hasGroupsSizeX = function (deck) {
  //   const gcd = (a, b) => b > 0 ? gcd(b, a % b) : a;
  //   // (6, 3) => b > 0 ? gcd(b, a % b) : a;
  //   let map = {};
  //   deck.forEach(el => {
  //     map[el] = (map[el] || 0) + 1;
  //   });
  //   // return map

  //   let X = 0;
  //   let counts = Object.values(map);//对象的value 的数组  6,3
  //   for (const count of counts) {
  //     X = gcd(count, X);
  //   }
  //   return X > 1;
  // };

  // console.log(hasGroupsSizeX([1, 1, 1, 1, 1, 1, 2, 2, 2]))
  // 'use strict'
  // function a() {
  //   console.log(this)
  // }
  // // a()

  // let b = {
  //   a: a,
  //   b: function () {
  //     console.log(this)
  //   }
  // }

  // b.a()
  // b.b()

  // 'use strict';
  // var obj = {
  //   i: 10,
  //   b: {
  //     aa: () => console.log(this, this.i),
  //     bb: function () {
  //       console.log(this, this.i)
  //     },
  //     i: 'xl'
  //   },
  //   c: function () {
  //     console.log(this.i, this)
  //   },
  //   d: () => {
  //     console.log(this.i, this)
  //   }
  // }
  // obj.b.aa();  //obj 10
  // obj.b.bb();  //obj.b xl

  // // undefined, Window{...}
  // obj.c();
  // obj.d();

  // // 10, Object {...}
  // // console.log()

  // 常规写法

  // Create obj with a method bar that returns a function that
  // returns its this. The returned function is created as 
  // an arrow function, so its this is permanently bound to the
  // this of its enclosing function. The value of bar can be set
  // in the call, which in turn sets the value of the 
  // returned function.
  var obj = {
    bar: function () {
      console.log(this)
      var x = (() => this);
      return x;
    }
  };

  // Call bar as a method of obj, setting its this to obj
  // Assign a reference to the returned function to fn
  var fn = obj.bar();

  // Call fn without setting this, would normally default
  // to the global object or undefined in strict mode
  console.log(fn() === obj); // true

  // But caution if you reference the method of obj without calling it
  var fn2 = obj.bar;
  // Calling the arrow function's this from inside the bar method()
  // will now return window, because it follows the this from fn2.
  console.log(fn2()() == window); // true
</script>

</html>